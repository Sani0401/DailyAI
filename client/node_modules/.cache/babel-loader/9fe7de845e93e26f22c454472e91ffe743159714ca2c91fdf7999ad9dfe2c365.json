{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"../styles/Admin.css\";import{Button}from\"react-bootstrap\";import dataIcon from\"../Images/dataset-img.png\";import Instance from\"../config/axiosInstance\";import apiURL from\"../config/apiURL\";import{useNavigate}from\"react-router-dom\";import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';// Import statements...\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Admin(){const[trainingData,setTrainingData]=useState(\"\");const[token,setToken]=useState(null);const[submitting,setSubmitting]=useState(false);const navigate=useNavigate();const notifySuccess=()=>toast.success(\"Data Added Successfully!\");const notifyError=message=>toast.error(message);const submitData=async()=>{setSubmitting(true);try{const data={tdata:trainingData};const response=await Instance.post(apiURL.addData,data,{headers:{Authorization:\"Bearer \".concat(token)}});if(response.status===200){notifySuccess();setTrainingData(\"\");// Clear textarea after successful submission\n}else{notifyError(\"Failed to add data. Please try again.\");}}catch(error){if(error.response&&error.response.status===401){notifyError(\"Unauthorized access\");}else{notifyError(\"An error occurred. Please try again later.\");}}finally{setSubmitting(false);}};useEffect(()=>{const storedToken=localStorage.getItem(\"token\");if(!storedToken){navigate(\"/login\");}else{setToken(storedToken);}},[navigate]);return/*#__PURE__*/_jsxs(\"div\",{className:\"mainContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"combinedLogo\",children:[/*#__PURE__*/_jsx(\"img\",{src:dataIcon,className:\"dataIcon\",alt:\"Data Icon\"}),/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:\"Data to train AI Model\"})]})}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Add Data to train\",className:\"customTextarea\",value:trainingData,onChange:e=>setTrainingData(e.target.value)}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",size:\"sm\",className:\"submitButton\",onClick:submitData// Disable button when submitting or no data entered\n,children:submitting?\"Submitting...\":\"Submit\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"anchorTag\",children:\"Ask Questions\"}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default Admin;","map":{"version":3,"names":["React","useEffect","useState","Button","dataIcon","Instance","apiURL","useNavigate","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Admin","trainingData","setTrainingData","token","setToken","submitting","setSubmitting","navigate","notifySuccess","success","notifyError","message","error","submitData","data","tdata","response","post","addData","headers","Authorization","concat","status","storedToken","localStorage","getItem","className","children","src","alt","placeholder","value","onChange","e","target","variant","size","onClick","href"],"sources":["C:/Users/sanip/OneDrive/Desktop/HUSHH/client/src/pages/Admin.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../styles/Admin.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport dataIcon from \"../Images/dataset-img.png\";\r\nimport Instance from \"../config/axiosInstance\";\r\nimport apiURL from \"../config/apiURL\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n// Import statements...\r\n\r\nfunction Admin() {\r\n  const [trainingData, setTrainingData] = useState(\"\");\r\n  const [token, setToken] = useState(null);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const notifySuccess = () => toast.success(\"Data Added Successfully!\");\r\n  const notifyError = (message) => toast.error(message);\r\n\r\n  const submitData = async () => {\r\n    setSubmitting(true);\r\n\r\n    try {\r\n      const data = { tdata: trainingData };\r\n      const response = await Instance.post(apiURL.addData, data, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      if (response.status === 200) {\r\n        notifySuccess();\r\n        setTrainingData(\"\"); // Clear textarea after successful submission\r\n      } else {\r\n        notifyError(\"Failed to add data. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 401) {\r\n        notifyError(\"Unauthorized access\");\r\n      } else {\r\n        notifyError(\"An error occurred. Please try again later.\");\r\n      }\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const storedToken = localStorage.getItem(\"token\");\r\n    if (!storedToken) {\r\n      navigate(\"/login\");\r\n    } else {\r\n      setToken(storedToken);\r\n    }\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <div className=\"mainContainer\">\r\n      <div className=\"header\">\r\n\r\n        <label className=\"combinedLogo\"><img src={dataIcon} className=\"dataIcon\" alt=\"Data Icon\" />\r\n        <p className=\"title\">Data to train AI Model</p></label>\r\n        \r\n      </div>\r\n      <textarea\r\n        placeholder=\"Add Data to train\"\r\n        className=\"customTextarea\"\r\n        value={trainingData}\r\n        onChange={(e) => setTrainingData(e.target.value)}\r\n      ></textarea>\r\n      <Button\r\n        variant=\"dark\"\r\n        size=\"sm\"\r\n        className=\"submitButton\"\r\n        onClick={submitData}\r\n       // Disable button when submitting or no data entered\r\n      >\r\n        {submitting ? \"Submitting...\" : \"Submit\"}\r\n      </Button>\r\n      <a href=\"/\" className=\"anchorTag\">Ask Questions</a>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Admin;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}